---
title: "Recommended Workflow and Examples"
subtitle: "Package `spAddins`"
author: "Vilmantas Gegzna"
date: "`r Sys.Date()`"
output:
    rmarkdown::html_vignette:
        toc: yes
vignette: >
  %\VignetteIndexEntry{1 Workflow and examples}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

This vignette describes a recommended workflow of how the functions of `spAddins` 
package should be used and gives several examples.


The Workflow
=============
Four main steps of recommended workflow can be defined. Step 1 and Step 2 should 
be repeated only once. Step 3 and Step 4 can be repeated as many times as needed.


Step 1: Install the package
---------------------------

Released version of package `spAddins` can be installed from CRAN:
```{r Install package from CRAN, eval=FALSE}
install.packages("spAddins")
```

Development version can be installed from GitHub:
```{r Install package from GitHub, eval=FALSE}
if (!require(devtools)) install.packages("devtools")
library(devtools)
install_github("GegznaV/spAddins")
```


Step 2: Set keyboard shortcuts
-------------------------------

Functions in the package are also RStudio addins. This allows setting 
user-defined RStudio keyboard shortcuts that call functions in a more 
convenient way.
Thus the next step is to define keyboard shortcuts for package's `spAddins` 
functions you would like to use often.

To learn how to add user defined RStudio keyboard shortcuts, visit these links:
[Customizing Keyboard Shortcuts](https://support.rstudio.com/hc/en-us/articles/206382178-Customizing-Keyboard-Shortcuts) and [Keyboard Shorcuts](https://rstudio.github.io/rstudioaddins/#keyboard-shorcuts).


Step 3: Place a cursor / Select text
-------------------------------------
Package `spAddins` contains 2 types of addins:

- those which insert text and
- those which replace text.

For addins which **insert** text, in either R editor or in R console **place** a 
cursor at a position at which the text should be inserted.  

For addins which **replace** text, either in R editor or in R console **select** a 
piece of text in which certain symbols should be replaced.  

 
Step 4: Use the keyboard shortcuts
----------------------------------
Apply keyboard shortcut you defined in Step 2 to call a desired addin function.



A Few Examples
===============


Insert `%>%` operator
-----------------------
This is an example how to use addins which **insert** text.  

When package `spAddins` is already installed let's set shortcut `Ctrl + Alt + .`
to call function `insertPipeline_Addin()` which inserts forward-pipe operator
`%>%` operator at cursor's position. This operator is in package `magrittr`
thus the package should be loaded first. 
```{r, eval = FALSE}
library(magrittr)
```
To learn more about the `%>%` operator type:
```{r, eval = FALSE}
?`%>%`
```

Next, place your cursor at a position, where the operator should be inserted. 
Let's say, between the name of a data set (`iris`) and the name of a function 
(`head()`):
```{r, eval = FALSE}
iris  head()
```

Apply the shortcut combination `Ctrl + Alt + .` As a result the operator 
is inserted:

```{r, eval = FALSE}
iris %>% head()
```

Replace `\` with `/`
----------------------
This is an example how to use addins which **replace** text.  

In the following example conciser having a string `"c:\data\"`.  
Again let's define a new shortcut combination, say  `Ctrl + Alt + Shift + /`,
which calls an addin. This time addin function we need is `Back2ForwardSlash()`.
This function replaces backslashes (`\`) with forward slashes (`/`). Before the 
replacement appropriate piece of string must be selected. Thus let's select 
all string and push `Ctrl + Alt + Shift + /`. As a result the string is 
converted into `"c:/data/"`.
