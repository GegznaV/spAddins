---
title: "Recommended Workflow and Examples"
author: "Vilmantas Gegzna"
date: "`r Sys.Date()`"
output:
    rmarkdown::html_vignette:
        toc: yes
vignette: >
  %\VignetteIndexEntry{1 Workflow and Examples}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

This vignette describes a recommended workflow of how the functions of `spAddins` 
package should be used and gives several examples.


The Workflow
=============
The recommended workflow consists of four main steps.
Step 1 and Step 2 should usually be done only once.
Step 3 and Step 4 can be repeated as many times as needed.


Step 1: Install the package
---------------------------

Released version of package `spAddins` can be installed from CRAN:
```{r Install package from CRAN, eval=FALSE}
install.packages("spAddins")
```

Development version can be installed from GitHub:
```{r Install package from GitHub, eval=FALSE}
if (!require(devtools)) install.packages("devtools")
library(devtools)
install_github("GegznaV/spAddins")
```


Step 2: Define keyboard shortcuts
-----------------------------------

Functions in the package are also RStudio addins. This fact allows setting 
user-defined RStudio keyboard shortcuts that call the functions in a more 
convenient way.
Thus the second step is to define keyboard shortcuts for package's `spAddins` 
functions of interest.

To learn how to add user defined RStudio keyboard shortcuts, visit these links:
[Keyboard Shorcuts](https://rstudio.github.io/rstudioaddins/#keyboard-shorcuts)
and
[Customizing Keyboard Shortcuts](https://support.rstudio.com/hc/en-us/articles/206382178-Customizing-Keyboard-Shortcuts).


Step 3: Place a cursor / Select some text
------------------------------------------
Package `spAddins` contains 2 types of addins:

- those which **insert** text and
- those which **replace** text.

For addins which **insert** text, in either R editor or in R console **place** your 
cursor at the position at which the text should be inserted.  

For addins which **replace** text, either in R editor or in R console **select** a 
piece of text in which certain symbols should be replaced.  

 
Step 4: Use the keyboard shortcuts
----------------------------------
To call a desired addin function, apply an appropriate keyboard shortcut which 
in Step 2 was associated with that function.



A Few Examples
===============


Insert `%>%` operator
-----------------------
This example demonstrates how to use addins which **insert** text.  

Let package `spAddins` be already installed. First, let's set keyboard shortcut
`Ctrl + Alt + .` to call function `insertPipeline_Addin()` which inserts
forward-pipe operator `%>%` operator at the cursor position. This operator is 
in package `magrittr` thus the package must be loaded: 
```{r, eval = FALSE}
library(magrittr)
```
To learn more about the `%>%` operator type:
```{r, eval = FALSE}
?`%>%`
```

Next, place your cursor at the position, where the operator should be inserted. 
For example, between the name of data set `iris` and the name of a function 
`head()`:
```{r, eval = FALSE}
iris  head()
```

Apply the shortcut combination `Ctrl + Alt + .` As a result the operator 
is inserted:

```{r, eval = FALSE}
iris %>% head()
```

Replace `\` with `/`
----------------------
This example describes how to use addins which **replace** text.  

Conciser having a string `"c:\data\"` in which backslashes (`\`) must be 
replaced with forward slashes (`/`). Addin function `Back2ForwardSlash()` 
is designed exactly for this task. Let's define a new shortcut combination,
say  `Ctrl + Alt + Shift + /`, which calls the addin function. Now to know the
place where the replacement should be applied an appropriate piece of text in
either R editor or R console must be selected. Thus let's select 
whole string `"c:\data\"` and push `Ctrl + Alt + Shift + /`. 
The result: as expected, the string is converted into `"c:/data/"`.
